https://wokwi.com/projects/449721863371041793

#include <Wire.h>
#include <Arduino.h>

// I2C Адрес MPU6050
const int MPU_ADDR = 0x68; 

void setup() {
  Serial.begin(115200);
  Wire.begin(21, 22); // Инициализация I2C шины (SDA=21, SCL=22)

  // Инициализация MPU6050 (пробуждаем датчик)
  Wire.beginTransmission(MPU_ADDR);
  Wire.write(0x6B);  // Регистр PWR_MGMT_1
  Wire.write(0);     // Пробуждаем датчик
  if (Wire.endTransmission() != 0) {
    Serial.println("Error: MPU6050 (0x68) not found! Check connections.");
    while(1);
  }

  Serial.println("SHT31 Test (Simulated via MPU6050 Temperature)");
  Serial.println("----------------------------------------");
  randomSeed(analogRead(25)); // Инициализация случайных чисел для симуляции
  delay(1000);
}

void loop() {
  // === 1. Чтение ТЕМПЕРАТУРЫ с MPU6050 (РЕАЛЬНОЕ I2C ЧТЕНИЕ) ===
  Wire.beginTransmission(MPU_ADDR);
  Wire.write(0x41); // Регистр TEMP_OUT_H (для температуры)
  Wire.endTransmission(false);
  Wire.requestFrom(MPU_ADDR, 2, true);
  
  int16_t raw_temp = (Wire.read() << 8) | Wire.read();
  // Формула MPU6050: (Raw / 340.0) + 36.53
  float temperature = (raw_temp / 340.0) + 36.53;


  // === 2. Симуляция ВЛАЖНОСТИ (аналог sht3x_get_humiture) ===
  // Генерируем случайное число в диапазоне 45.00% - 55.00%
  float humidity_sim = random(4500, 5500) / 100.0; 


  // === ВЫВОД (Формат задания SHT31) ===
  // Output format: "Temperature: %.2f°C    Humidity: %.2f %%\n"
  printf("Temperature: %.2f°C    ", temperature);
  printf("Humidity: %.2f %%\n", humidity_sim);

  // Задержка 1 секунда (аналог vTaskDelay)
  delay(1000);
}
